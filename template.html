<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Is MSN dead yet?</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">

<style>
h1 {
    font-size: 14vmin;
    font-weight: bold;
}
h2 {
    font-size: 30px;
}
h3 {
    font-size: 22px;
}
.fineprint {
    font-size: 0.8em;
    font-style: italic;
    color: #888;
}
.space5vh {height: 5vh;}
.space10vh {height: 10vh;}
.space20vh {height: 20vh;}
.space30vh {height: 30vh;}

.good {
    color: lime;
}
.bad {
    color: red;
}
.good, .bad {
    font-weight: bold;
    font-family: 'arial black', 'impact', sans-serif;
    padding: 0px !important;
}
.sneaky {
    color: #333;
}
.sneaky:hover {
    color: #338;
    cursor: text;
}

.table-status td {
    padding: 0px !important;
}

.anchor {
    font-size: 16px;
    opacity: 0.5;
}
.main-server, .main-server * {
    background-color: #FFA !important;
}
ul {
    padding-left: 20px;
}


#showoldernews {
    text-align: center;
    font-style: italic;
}
</style>

</head>

<body>

    <a href="https://github.com/dequis/ismsndeadyet.com"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"></a>

<div class="text-center">
    <h2>Is MSN dead yet?</h2>
    <p class="fineprint">
        (And by MSN I mean <a href="http://en.wikipedia.org/wiki/Microsoft_Messenger_service">microsoft's messenger service</a>,
        previously known as MSN Messenger or Windows Live Messenger)<br />
        (<a href="http://msn.com">msn.com</a> is unrelated and not going to die, please don't sue me Microsoft, I love you &hearts;)<br />
        (Not affiliated with microsoft in any way)
    </p>
    <h1 id="nope">MOSTLY</h1>
    <h2 id="maybe">Most third party clients can't connect anymore, MSNP18 is gone.</h2>
    <div class="space5vh"></div>
</div>

<div class="container">
<div class="row">
    <div class="col-md-4">
        <h3 class="text-center">Current situation</h3>
        <p>The MSNP18 protocol and all the older versions are gone. MSNP21/22/24 are still there.</p>
        <p>Most clients still don't implement newer versions. Some are listed on the right column.</p>
        <h3 class="text-center">Related links</h3>
        <ul class="text-left">
            <li><a href="http://messengergeek.wordpress.com/messenger-status/">Messengergeek's detailed status page</a></li>
            <li><a href="https://status.live.com/detail/msgr">Official status page</a> which seems to ignore the current issues</a></li>
            <li><a href="https://github.com/msndevs/protocol-docs/wiki">msndevs protocol-docs wiki</a></li>
        </ul>
    </div>
    <div class="col-md-4">
        <h3 class="text-center">Breaking news</h3>
        <p><b>2015-06-18</b>: Temporary outage of <code>bay</code> servers. A few have been repurposed for skypeweb.</p>
        <p><b>2015-05-27</b>: Nothing broke recently, just reduced the amount of clutter in this page.</p>
        <p><b>2015-03-12</b>: The MSNP18 protocol version, used by most third party clients, and ports 80 and 1863 are gone.</p>
        <div id="oldernews">
        <p><b>2015-03-05</b>: Most internal <code>bn1</code> servers closed ports 80 and 1863 (Updated version checker to use https instead)</p>
        <p><b>2015-02-26</b>: Almost all the <code>bay</code> and <code>bn1</code> servers now reject the MSNP18 protocol, used by most third party clients.</p>
        <p><b>2015-01-09</b>: Two main <code>db3</code> servers and one <code>bay</code> server closed port 80 (HTTP).</p>
        <p><b>2014-12-17</b>: Two main <code>bn1</code> servers closed port 80 (HTTP). HTTPS still works, but few clients use it.</p>
        <p><b>2014-12-09</b>: Main servers closed port 1863. HTTPS connections to all these servers still work.</p>
        <p><b>2014-11-13</b>: ApplicationID for windows live messenger 2008 and 2009 blocked.
            <a href="http://messengergeek.wordpress.com/2014/11/12/most-third-party-messenger-clients-have-gone-offline-temporarily/">
                Messengergeek blog post
            </a>
        </p>
        </div>
        <a href="#" id="showoldernews" style="display: none">(Show older news)</a>
    </div>
    <div class="col-md-4">
        <h3 class="text-center">What clients work</h3>
        <p class="fineprint text-center"><em>(Missing anything in this list? <a href="https://github.com/dequis/ismsndeadyet.com">Pull requests welcome!</a>)</em></p>
        <ul>
            <li><a href="https://github.com/miranda-ng/miranda-ng">Miranda-NG MSN plugin</a> (MSNP24)</li>
            <li><a href="https://github.com/bitlbee/bitlbee">BitlBee 3.4.1</a> (MSNP21)</li>
            <li><a href="https://messengergeek.wordpress.com/2015/03/25/butterfly-messenger/">Butterfly messenger</a> (MSNP21)</li>
        </ul>

        <a href="http://web.skype.com/">Skypeweb</a> based clients <em>(not MSNP, but close enough)</em>
        <ul>
            <li><a href="https://github.com/EionRobb/skype4pidgin/tree/master/skypeweb">Pidgin skypeweb plugin</a></li>
            <li><a href="https://github.com/miranda-ng/miranda-ng">Miranda-NG skypeweb plugin</a></li>
        </ul>

        Official clients:
        <ul>
            <li>
                <abbr title="Windows Live Messenger">WLM</abbr> 2012 (MSNP21)
                <a href="http://messengergeek.wordpress.com/2013/04/23/use-messenger-reviver-2-to-bring-back-messenger-and-beat-skype/">
                    with messenger reviver
                </a>
            </li>
            <li>Windows 8.0 Messaging client (MSNP22)</li>
            <li>Skype and <a href="http://outlook.com">outlook.com</a> (MSNP24)</li>
        </ul>
    </div>
</div>

<a name="status"></a>
<div class="text-center">
    <a href="#" id="showstatus" style="display: none; margin: 50px 0;">(Click to show needlessly detailed server status)</a>
</div>

<div id="statuswrapper">
<div class="text-center">
    <h2>Needlessly detailed server status <a href="#status" class="anchor">#</a></h2>
    <p>Updated every 60 minutes.</p>
    <p>TL;DR: There are no servers with port 80, port 1863, or MSNP18 (The ones which do have port 80 open were repurposed for something else)</p>
    <p>May have a few minor mistakes (due to packet loss, etc). Scroll down for reference.</p>
</div>
<div class="row">
    {% for name, servers in regions %}
    <div class="col-md-4 text-center">
        <h3><code>{{name}}</code></h3>
        <table class="table table-striped table-hover table-condensed table-status">
        <tr>
            <td>IP</td>
            <td>:80</td>
            <td>:443</td>
            <td>:1863</td>
            <td style="font-size: smaller">MSNP18</td>
            <td style="font-size: smaller">MSNP21</td>
        </tr>
        {% for ip, ports, ver_results in servers %}
        <tr {% if loop.index < 3 %}class="main-server"{% endif %}>
            <td><code>{{ip}}</code></td>
            {% for port in ports %}
                {% if port %}
                <td class="good">✔</td>
                {% else %}
                <td class="bad">✘</td>
                {% endif %}
            {% endfor %}

            <td class="bad">✘</td>

            {% for ver_result in ver_results %}
                {% if ver_result %}
                <td class="good">✔</td>
                {% else %}
                <td class="bad">✘</td>
                {% endif %}
            {% endfor %}
        </tr>
        {% endfor %}
        </table>
    </div>
    {% endfor %}

</div>

<h3>Reference <a href="#reference" name="reference" class="anchor">#</a></h2>
<table class="table">
    <tr>
        <td><code>bay</code></td>
        <td>Server region codename (first three characters of the hostname of each of those servers)</td>
    </tr>
    <tr>
        <td class="main-server">Highlight</td>
        <td>The highlighted rows are the main servers of a region, which redirect to the rest.</td>
    </tr>
    <tr>
        <td>:80</td>
        <td>HTTP port open. This is what you'd use when enabling HTTP method.</td>
    </tr>
    <tr>
        <td>:443</td>
        <td>HTTPS port open. Same as above, but not all clients use this. Newer versions of official clients use it (including WLM 2012, the windows 8 messaging client and skype)</td>
    </tr>
    <tr>
        <td>:1863</td>
        <td>MSNP port open. The good old standard msn protocol port.</td>
    </tr>
    <tr>
        <td>MSNP18</td>
        <td>Sends <code>VER 1 MSNP18</code> to port 443 to test if the server still supports that version (the most common one among third party clients). Also helps check for false positives</td>
    </tr>
    <tr>
        <td>MSNP21</td>
        <td>Same as above, but sends <code>VER 1 MSNP21</code> instead, to port 443. This version is not very common among third party clients (Windows Live Messenger 2012 uses it)</td>
    </tr>
</table>

</div>

<div class="container">
    <h2 class="text-center">FAQ <a href="#faq" name="faq" class="anchor">#</a></h2>
    <!--h3>What about all the news saying it's gone?  <a href="#what-about-all-the-news-saying-its-gone" name="what-about-all-the-news-saying-its-gone" class="anchor">#</a></h3>
    <p>That's partly because nobody does fact checking and partly because the criteria of "dead" here is more oriented to third party clients</p>
    <p>It was supposed to die in march 2013. The only thing that changed was a forced upgrade of the official clients to skype. Before mid-november 2014 the only issue was that offline messages and mail notifications didn't work.</p>
    <p>Right now it <em>seems</em> like it might be dying, so I made this to track the progress of its death.</p>

    <h3>Getting connection refused  <a href="#connection-refused" name="connection-refused" class="anchor">#</a></h3>
    <p>If your client doesn't support http method, you can try setting the server address to one of the working IPs from above</p>
    <p>One way to set the server address is to edit your <a href="http://en.wikipedia.org/wiki/Hosts_%28file%29">hosts file</a> and assign it to <code>messenger.hotmail.com</code> by adding a line like this:</p>
    <pre>XXX.XXX.XXX.XXX messenger.hotmail.com</pre>
    <p>Change that XXX.XXX.XXX.XXX to something else, and note that overloaded servers may redirect you back to the broken ones!</p>

    <h3>How do I switch to HTTP method in pidgin? <a href="#pidgin-http-method" name="pidgin-http-method" class="anchor">#</a></h3>
    <b>NOTE: these instructions will only work with servers that have port 80 open, and support MSNP18. Good luck</b>
    <ol>
        <li>In the accounts window, click modify</li>
        <li>Go to the advanced tab</li>
        <li>Check "use http method"</li>
        <li><b>Change HTTP Method Server</b> to one of the working IP addresses above, as pidgin doesn't connect through HTTPS</li>
    </ol>
    <p>That's all. All the other fields are irrelevant and can be left as-is</p>
    <img src="http://dump.dequis.org/IHmDR.png" alt="" class="center-block img-responsive" />

    <h3>Some contacts are offline  <a href="#some-contacts-are-offline" name="some-contacts-are-offline" class="anchor">#</a></h3>
    <p>Might be a pidgin bug that sneaked in the last release. Try removing that contact and adding it again</p>
    <p>If everything fails, <a href="http://outlook.com">outlook.com</a> has a webchat (using MSNP24!), any msn login will work</p>

    <h3>How do I fix my BitlBee? <a href="#bitlbee" name="bitlbee" class="anchor">#</a></h3>
    <p>If you're using revision 1070 or newer (or bitlbee-libpurple with libpurple 2.10.11), just do:</p>
    <pre>account msn set server XXX.XXX.XXX.XXX</pre>
    <p>Replacing XXX.XXX.XXX.XXX with an address from the list above that has port 1863 open and supports MSNP18</p>
    <p>If you're using something older, it won't work because of the ApplicationID block, even if you get it to connect</p>
    <p><b>Public servers</b>: im.codemonkey.be (<a href="http://bitlbee.org/main.php/servers.html">run by the same sysadmin as testing.bitlbee.org</a>) usually runs the latest version and should work.</p>
    <p><b>See also</b>: <a href="http://wiki.bitlbee.org/HowtoMsn">HowtoMsn wiki page</a></p>
    -->
    <h3>Why care about MSN? <a href="#why-care-about-msn" name="why-care-about-msn" class="anchor">#</a></h3>
    <p>A few reasons:</p>
    <ul>
        <li>It's a decent bridge to the skype network</li>
        <li>Works in clients that aren't skype</li>
        <li><a href="http://store.steampowered.com/app/253030/" class="sneaky">I like the idea of delaying the inevitable by catching energy boosts which reverse the setting sun - if only for a moment</a></li>
        <li>Fun things are fun</li>
    </ul>
    <!--<h3>What does the future hold? <a href="#what-does-the-future-hold" name="what-does-the-future-hold" class="anchor">#</a></h3>
    <p>This is speculation, but based on the current trends, it will keep breaking slowly, based on what microsoft doesn't need to keep alive anymore</p>
    <p>The HTTPS method (port 443 in the status table above) is likely to stay up. These servers are still used by skype, although with a newer protocol.</p>
    <p>The messaging client included in windows 8.0 (which they probably still need to support) uses a MSNP22 - a protocol version older than skype's, newer than most other third party clients, but using the same connection method as the older ones, through HTTPS</p>
    <p><a href="http://messengergeek.wordpress.com/2014/09/11/when-is-messenger-really-shutting-down/">See also this messengergeek post</a></p>-->
</div>

</div>

<div class="space10vh"></div>

<div class="text-center">
    <p>Not affiliated to Microsoft Corporation in any way. Microsoft, MSN, and Windows are either registered trademarks or trademarks of Microsoft Corporation in the United States and/or other countries</p>
</div>

<script>
(function() {
    /*var maybe = document.getElementById("maybe");
    var labels = [
        "Well maybe just a bit",
        "Doesn't look too bad here",
        "Ticket resolved as WORKSFORME",
        "Just apply a patch or two and it will work",
        "It might ask you to feed it brains, but that's normal",
        "It's not dead, it's resting.",
        "It's not dead, it's stunned.",
        "It's not dead, it's pining for the fjords.",
        "Nostalgia awaits!",
    ];
    maybe.innerHTML = labels[Math.floor(Math.random() * labels.length)];*/

    var get = function(id) {return document.getElementById(id);}
    var hide = function(id) {get(id).style.display = 'none';}
    var show = function(id) {get(id).style.display = 'block';}

    hide('oldernews');
    show('showoldernews');

    get('showoldernews').onclick = function () {
        show('oldernews');
        hide('showoldernews');
        return false;
    }

    hide('statuswrapper');
    show('showstatus');
    get('showstatus').onclick = function() {
        show('statuswrapper');
        hide('showstatus');
        return false;
    }
})();
</script>
</body>
</html>
